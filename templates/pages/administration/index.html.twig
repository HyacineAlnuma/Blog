{% extends "base.html.twig" %}


{% block main %}
	<!-- Page Header-->
	<header class="masthead" style="background-image: url('img/admin.jpg')">
		<div class="container position-relative px-4 px-lg-5">
			<div class="row gx-4 gx-lg-5 justify-content-center">
				<div class="col-md-10 col-lg-8 col-xl-7 sm-12">
					<div class="post-heading text-center">
						<h1>Interface d'administration</h1>
						<span class="subheading"></span>
					</div>
				</div>
			</div>
		</div>
	</header>
	<!-- Main Content-->
	<div class="container">
		<h2 class="post-title mb-5">Validation des commentaires</h2>
		{% if comments|length == 0 %}
			<h3 class="post-subtitle fw-lighter mb-5">Aucun commentaire en attente</h3>
		{% else %}
			<table class="table table-striped">
				<thead>
					<tr>
						<th scope="col">Utilisateur</th>
						<th scope="col">Post</th>
						<th scope="col">Commentaire</th>
						<th scope="col">Date</th>
						<th scope="col">Validation</th>
					</tr>
				</thead>
				<tbody>
					{% for comment in comments %}
						<tr class="align-middle">
							<td>{{ comment.author}}</td>
							<td>
								<a href="/post/{{ comment.idPost }}">Lien vers le post</a>
							</td>
							<td>{{ comment.content }}</td>
							<td>{{ comment.lastUpdateDate }}</td>
							<td>
								<a class="btn btn-outline-success" href="/approveComment/{{ comment.id }}">Valider</a>
								<a class="btn btn-outline-danger" href="/deleteComment/{{ comment.id }}">Supprimer</a>
							</td>
						</tr>
					{% endfor %}
				</tbody>
			</table>
		{% endif %}
	</div>
{% endblock %}
